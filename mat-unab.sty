% Este paquete provee un macro para pruebas del Departamento de Matematicas 
% de la Universidad Andres Bello. 
%
% Escrito por Dr. Mauricio Duarte
% Su uso y distribución debe hacerse bajo GNU General Public License, para esta y toda version futura
%  


% Declare that this style file requires at least LaTeX version 2e.
\NeedsTeXFormat{LaTeX2e}

% Provide the name of your page, the date it was last updated, and a comment about what it's used for
\ProvidesPackage{mat-unab}[2019/10/24]

\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{bbm}
\usepackage[mathcal]{euscript}
\usepackage{bigstrut}
\usepackage{booktabs}
\usepackage{pifont}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{pstricks,pst-node,pst-tree}
\usepackage{pst-func,pstricks-add}
\usepackage{pst-plot}
\usepackage{enumerate}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}
\usepackage{longtable}
\usepackage{ragged2e}
\usepackage[left=2.3cm,right=2.3cm,top=3.5cm,bottom=3.5cm]{geometry}

%%%%%%%%%%%% margenes y estilo
%\topmargin=0cm  	% MacBook
%\oddsidemargin=-0.5cm \evensidemargin=-0.5cm \textwidth=17.5cm \textheight=21.5cm 
\parindent 0em
\parskip 2ex
\renewcommand{\baselinestretch}{1,1}

%% estilo de borrador - es una opcion del paquete
\usepackage{draftwatermark}
\SetWatermarkText{}

\DeclareOption{borrador}{ 
	\SetWatermarkText{Borrador}
	\SetWatermarkColor{red!25}
	\SetWatermarkAngle{52,3}
	\SetWatermarkScale{4}
}

%% Special centered paragraph in tabular
%% #1 is vertical alignment, #2 is the text
\newcommand{\specialcell}[2][c]{%
  \begin{tabular}[#1]{@{}c@{}} #2 \end{tabular}}

% Letras Comunes
\newcommand{\e}{\varepsilon}   %epsilon
\newcommand{\ow}{\omega}
\newcommand{\RR}{\mathbb{R}}    %conjunto numeros reales
\newcommand{\CC}{\mathbb{C}}    %conjunto numeros complejos
\newcommand{\HH}{\mathbb{H}}    %semiplano superior
\newcommand{\ind}{\mathbbm{1}} %vector de unos
\newcommand{\A}{\mathcal{A}}    %algebra
\newcommand{\B}{\mathcal{B}}    %sigma-algebra
\newcommand{\BB}{\mathbb{B}}
\newcommand{\C}{\mathcal{C}}    %funciones continuo-diferenciables
\newcommand{\DD}{\mathbb{D}}
\newcommand{\E}{\mathcal{E}}    %espacio
\newcommand{\F}{\mathcal{F}}    %filtracion
\newcommand{\G}{\mathcal{G}} 
\newcommand{\I}{\mathcal{I}}    %
\renewcommand{\H}{\mathcal{H}}    %
\newcommand{\h}{\mathbf{H}}
\renewcommand{\L}{\mathcal{L}}
\newcommand{\M}{\mathcal{M}}    %
\newcommand{\NN}{\mathbb{N}}
\newcommand{\QQ}{\mathbb{Q}}
\renewcommand{\O}{\Omega}    %
\renewcommand{\o}{$^\circ\ $}    %
\renewcommand{\P}{\mathcal{P}}
\newcommand{\R}{\mathcal{R}}
\renewcommand{\S}{\mathcal{S}}
\renewcommand{\SS}{\mathbb{S}}
\newcommand{\PP}{\mathbb{P}}    % probabilidad
\newcommand{\EE}{\mathbb{E}}     %esperanza variable aleatoria
\newcommand{\KK}{\mathbb{K}}     %cuerpo
\newcommand{\N}{\mathcal{N}}   %vecindad de un punto
\newcommand{\T}{\mathcal{T}}   %Topologia
\newcommand{\U}{\mathcal{U}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\X}{\mathcal{X}}
\newcommand{\Y}{\mathcal{Y}}

%Simbolos Matematicos comunes
\newcommand{\supp}[1]{\mathrm{supp}\rpar{#1}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\df}{\stackrel{\mathrm{def}}=}
\newcommand{\ud}{\mathrm{d}}    %diferencial
\newcommand{\sub}{\subseteq}    %subconjunto
\newcommand{\dive}{\mathrm{div} } %divergence
\newcommand{\eqd}{\ {\buildrel d \over =}\ } %equal in distribution
\newcommand{\To}{\Rightarrow}           %implica
\newcommand{\ssi}{\Leftrightarrow}      %si y solo si
\newcommand{\subc}{\subseteq}           %subconjuntos
\newcommand{\tq}{\ \mid \ }             %tal que
\providecommand{\fl}{\longrightarrow}       %flecha de limite
\newcommand{\img}{\operatorname{Im}}    %imagen
\newcommand{\func}[3]{$#1: #2 \rightarrow #3$}  %definiendo la funcion
\providecommand{\dd}[2] {\frac{d #1 }{d #2}}            % derivada de #1 c/r a #2
\providecommand{\pd}[2] {\frac{\partial #1} {\partial #2}}  % derivada parcial de #1 c/r a #2
\renewcommand{\sp}[1]{\mathrm{supp}\rpar{#1}}
\newcommand{\dist}[1]{\mathrm{dist}\rpar{#1}}
\newcommand{\Log}{\mathrm{Log}}
\renewcommand{\qedsymbol}{$\blacksquare$}
\newcommand{\no}{$^\circ$}
\newcommand{\celsius}{\no{C}}
\newcommand{\xmark}{\ding{55}}%


%Diversos Parentesis
\providecommand{\rpar}[1]{\left( #1 \right)}               %parentesis()
\providecommand{\kpar}[1]{\left\{ #1 \right\}}              %parentesis{}
\providecommand{\spar}[1]{\left[  #1 \right]}              %parentesis[]
\providecommand{\ppar}[1]{\left\langle #1 \right\rangle}     %parentesis <>
\providecommand{\abs}[1]{\left\vert #1 \right\vert}           %valor absoluto
\providecommand{\norm}[1]{\left\Vert #1 \right\Vert}          %norma

% Estilo de teoremas y ecuaciones
\numberwithin{equation}{section}

\theoremstyle{plain}% default
\newtheorem{thm}{\bf Theorem}[section]
\newtheorem{lem}[thm]{\bf Lemma}
\newtheorem{prop}[thm]{\bf Proposition}
\newtheorem{cor}[thm]{\bf Corollary}

\theoremstyle{definition}
\newtheorem{defi}{\bf Definition}[section]
\newtheorem{conj}{\bf Conjecture}[section]
\newtheorem{examp}{\bf Example}[section]
\newtheorem{supo}{\bf Assumption}[section]

\theoremstyle{remark}
\newtheorem*{rem}{Remark}
\newtheorem*{note}{Note}
\newtheorem{case}{Case}


% Algunos comandos para las pruebas y pautas
\newcommand{\otrapagina}{\vfill{\it Continúa al reverso}\newpage}
\newcommand{\notaeximicion}{4,95}
\newcommand{\instrucciones}{S\'olo preguntas de enunciado, en voz alta y desde el puesto.}
\newcommand{\calificacion}[1]{\fbox{\parbox{0.25\textwidth}{\smallskip{\textbf{Nota:}} \begin{rm}\\ #1 \end{rm} \bigskip} }}
\renewcommand{\solutiontitle}{\noindent\textbf{Soluci\'on:}\enspace}
\pointpoints{pto}{pts}
\hpword{Puntos: }
\vpword{Puntos}
\htword{Total}
\vtword{Total:}
\vsword{Puntuación}


%% Rubricas de puntajes

\newcommand{\pts}[1]{\text{ (#1 pts) } }
\newif\ifprintpuntos
\newif\ifprintobjetivos

\printpuntosfalse
\printobjetivosfalse

% Puntos por respuestas correctas
\newcommand{\cbien}{blue}
\newcommand{\puntos}[2]{%
	\ifprintpuntos%
		\item[ \textcolor{\cbien}{\checkmark} ] \textcolor{\cbien}{#2} \hfill\textcolor{\cbien}{\pts{#1}}%
	\fi%
} 

% Puntos por respuestas incorrectas comunes
\newcommand{\cerr}{red}
\newcommand{\errado}[2]{%
	\ifprintpuntos%
		\item[ \textcolor{\cerr}{\xmark} ] \textcolor{\cerr}{#2} \hfill\textcolor{\cerr}{\pts{#1}}%
	\fi%
} 
% Ambriente para rubrica
\newenvironment{rubrica}%
	{ \ifprintpuntos 
		\textbf{\textcolor{\cbien}{\newline Distribución de puntaje} }
	  	\begin{itemize} 
	  	\setlength\itemsep{-0.2em} 
	\fi }%
	{ \ifprintpuntos \end{itemize}\fi }%


%% Opciones para Codigos y Cursos
\newcommand{\codigocurso}{FMMXXX}
\newcommand{\curso}{Curso de Matem\'aticas}

% Objetivos de aprendizaje del curso
%\newcommand{\objetivoi}{Primer objetivo}
%\newcommand{\objetivoii}{Segundo objetivo}
%\newcommand{\objetivoiii}{Tercer objetivo}
%\newcommand{\objetivoiv}{Cuarto objetivo}
%\newcommand{\objetivov}{Quinto objetivo}
%\newcommand{\objetivovi}{Sexto objetivo}


% Para incluir objetivos de aprendizaje se deben redefinir dentro de las opciones del curso 
% los objetivos \objetivoi, etc., y el comando 
% \theobjetivos{num objs}%
%  { \begin{objetivos} 
%    1. \objetivoi & #1 \\ \addlinespace 
%.   2. \objetivoii & #2 
%. \end{objetivos} }
%

\makeatletter
\let\@objetivoi\@empty
\let\@objetivoii\@empty
\let\@objetivoiii\@empty
\let\@objetivoiv\@empty
\let\@objetivov\@empty
\let\@objetivovi\@empty
\def\objetivoi#1{\gdef\@objetivoi{#1}}
\def\objetivoii#1{\gdef\@objetivoii{#1}}
\def\objetivoiii#1{\gdef\@objetivoiii{#1}}
\def\objetivoiv#1{\gdef\@objetivoiv{#1}}
\def\objetivov#1{\gdef\@objetivov{#1}}
\def\objetivovi#1{\gdef\@objetivovi{#1}}

\newcommand{\nobjetivos}{5}
\newcommand{\objetivos}[6]{ 
    \ifprintobjetivos \thetitle
        \textbf{\Large Antecedentes de construcción} 
    
        En la tabla adjunta, se detalla el aprendizaje esperado y la unidad tem\'atica asociada a cada una de las preguntas que conforman la \evaluacion\ del curso de \curso, las cuales fueron declaradas en el programa y syllabus de la asignatura.

        \begin{center} \begin{tabular}{c p{10cm} c}
          \toprule
          \textbf{Unidad} & \multicolumn{1}{c}{\textbf{Aprendizajes esperados}} & \textbf{Preguntas} \\ \midrule 
          %
            \ifx\@objetivoi\empty 
            \else 1 &\@objetivoi & #1 \\ \addlinespace \fi
            %
            \ifx\@objetivoii\empty 
            \else 2 & \@objetivoii & #2 \\ \addlinespace  \fi
            %
            \ifx\@objetivoiii\empty 
            \else 3 & \@objetivoiii & #3 \\ \addlinespace \fi
            %
            \ifx\@objetivoiv\empty  
            \else 4 & \@objetivoiv & #4 \\ \addlinespace  \fi
            %
            \ifx\@objetivov\empty 
            \else 5 & \@objetivov & #5 \\ \addlinespace \fi
            %
            \ifx\@objetivovi\empty  
            \else 6 & \@objetivovi & #6 \\ \addlinespace \fi 
           \bottomrule \end{tabular} \end{center}

        \newpage 
    \fi }
\makeatother


\DeclareOption{fmmp131}{\renewcommand{\codigocurso}{FMMP131}\renewcommand{\curso}{C\'alculo Diferencial}}
\DeclareOption{fms071}{\renewcommand{\codigocurso}{FMS071}\renewcommand{\curso}{Estad\'istica Descriptiva}}
\DeclareOption{fms072}{\renewcommand{\codigocurso}{FMS072}\renewcommand{\curso}{Estad\'istica I}}
\DeclareOption{fms073}{\renewcommand{\codigocurso}{FMS073}\renewcommand{\curso}{Estad\'istica II}}
\DeclareOption{fms171}{\renewcommand{\codigocurso}{FMS171}\renewcommand{\curso}{Estad\'istica Aplicada}}
\DeclareOption{fms175}{
    \renewcommand{\codigocurso}{FMS175}
    \renewcommand{\curso}{Probabilidades y Estad\'istica}
    %
    \renewcommand{\nobjetivos}{3}
    \objetivoi{Analizar conjuntos de datos obtenidos de situaciones reales con el objetivo de sintetizarlos mediante descripciones num\'ericas y herramientas estad\'isticas.}
    \objetivoii{Modelar fen\'menos y procesos aleatorios con formalidad matem\'atica con aplicaci\'on al c\'alculo de probabilidades y la toma de decisiones.}
    \objetivoiii{Aplicar metodología estad\'istica a datos de una muestra con el fin de realizar inferencia respecto del comportamiento de las caracter\'isticas de una poblaci\'on.}
}
%
\DeclareOption{fms176}{%
    \renewcommand{\codigocurso}{FMS176}
    \renewcommand{\curso}{Probabilidades y Estad\'istica}
    %
    \renewcommand{\nobjetivos}{3}
    \objetivoi{Modelar fen\'menos y procesos aleatorios con formalidad matem\'atica con aplicaci\'on al c\'alculo de probabilidades y la toma de decisiones.}
    \objetivoii{Analizar conjuntos de datos obtenidos de situaciones reales con el objetivo de sintetizarlos mediante descripciones num\'ericas y herramientas estad\'isticas.}
    \objetivoiii{Aplicar metodología estad\'istica a datos de una muestra con el fin de realizar inferencia respecto del comportamiento de las caracter\'isticas de una poblaci\'on.}
}

\DeclareOption{fmsp173}{\renewcommand{\codigocurso}{FMSP173}\renewcommand{\curso}{Estadística para Administración}}
\DeclareOption{fmsp174}{\renewcommand{\codigocurso}{FMSP174}\renewcommand{\curso}{Estadística}}
\DeclareOption{fmsp176}{\renewcommand{\codigocurso}{FMSP176}\renewcommand{\curso}{Probabilidades y Estad\'istica}}

\DeclareOption{fmm004}{\renewcommand{\codigocurso}{FMM004}\renewcommand{\curso}{Matemática}}
\DeclareOption{fmm007}{\renewcommand{\codigocurso}{FMM007}\renewcommand{\curso}{Matemática Avanzada }}
\DeclareOption{fmm010}{\renewcommand{\codigocurso}{FMM010}\renewcommand{\curso}{Álgebra}}
\DeclareOption{fmm012}{\renewcommand{\codigocurso}{FMM012}\renewcommand{\curso}{Intro. a las Matemáticas}}
\DeclareOption{fmm013}{\renewcommand{\codigocurso}{FMM013}\renewcommand{\curso}{Álgebra}}
\DeclareOption{fmm032}{\renewcommand{\codigocurso}{FMM032}\renewcommand{\curso}{Elem. de Álgebra y Cálculo elem.}}
\DeclareOption{fmm033}{\renewcommand{\codigocurso}{FMM033}\renewcommand{\curso}{Cálculo I}}

\DeclareOption{fmm112}{\renewcommand{\codigocurso}{FMM112}\renewcommand{\curso}{Cálculo Diferencial}}
\DeclareOption{fmm113}{\renewcommand{\codigocurso}{FMM113}\renewcommand{\curso}{\'Algebra Lineal}}
\DeclareOption{fmm132}{\renewcommand{\codigocurso}{FMM132}\renewcommand{\curso}{Cálculo Avanzado}}
\DeclareOption{fmm133}{\renewcommand{\codigocurso}{FMM133}\renewcommand{\curso}{Cálculo II}}
\DeclareOption{fmm134}{\renewcommand{\codigocurso}{FMM134}\renewcommand{\curso}{Cálculo Aplicado}}
\DeclareOption{fmm212}{\renewcommand{\codigocurso}{FMM212}\renewcommand{\curso}{Cálculo Integral}}
\DeclareOption{fmm235}{\renewcommand{\codigocurso}{FMM235}\renewcommand{\curso}{Cálculo en Varias Variables}}
\DeclareOption{fmm251}{\renewcommand{\codigocurso}{FMM251}\renewcommand{\curso}{Intro. a las Ecuaciones Diferenciales}}
\DeclareOption{fmm254}{\renewcommand{\codigocurso}{FMM254}\renewcommand{\curso}{Ecuaciones Diferenciales}}
\DeclareOption{fmm312}{\renewcommand{\codigocurso}{FMM312}\renewcommand{\curso}{Sistem. y Ecuac. Diferen. Lineales}}
\DeclareOption{fmm412}{\renewcommand{\codigocurso}{FMM412}\renewcommand{\curso}{Cálculo Avanzado}}

\DeclareOption{fmmp002}{\renewcommand{\codigocurso}{FMMP002}\renewcommand{\curso}{Fundamentos de Matemática}}
\DeclareOption{fmmp003}{\renewcommand{\codigocurso}{FMMP003}\renewcommand{\curso}{Matemática General}}
\DeclareOption{fmmp005}{\renewcommand{\codigocurso}{FMMP005}\renewcommand{\curso}{Matemática}}
\DeclareOption{fmmp008}{\renewcommand{\codigocurso}{FMMP008}\renewcommand{\curso}{Matemática para Administración}}
\DeclareOption{fmmp009}{\renewcommand{\codigocurso}{FMMP009}\renewcommand{\curso}{Matemáticas}}
\DeclareOption{fmmp012}{\renewcommand{\codigocurso}{FMMP012}\renewcommand{\curso}{Intro. a las Matemáticas}}
\DeclareOption{fmmp020}{\renewcommand{\codigocurso}{FMMP020}\renewcommand{\curso}{Álgebra}}
\DeclareOption{fmmp028}{\renewcommand{\codigocurso}{FMMP028}\renewcommand{\curso}{Aplicac. Matem. para Admin.}}
\DeclareOption{fmmp029}{\renewcommand{\codigocurso}{FMMP029}\renewcommand{\curso}{Matemáticas para los Negocios}}
\DeclareOption{fmmp030}{\renewcommand{\codigocurso}{FMMP030}\renewcommand{\curso}{Cálculo I}}
\DeclareOption{fmmp101}{\renewcommand{\codigocurso}{FMMP101}\renewcommand{\curso}{Elem. de Álgebra y Cálculo}}
\DeclareOption{fmmp112}{\renewcommand{\codigocurso}{FMMP112}\renewcommand{\curso}{Cálculo Diferencial}}
\DeclareOption{fmmp130}{\renewcommand{\codigocurso}{FMMP130}\renewcommand{\curso}{Cálculo II}}
\DeclareOption{fmmp212}{\renewcommand{\codigocurso}{FMMP212}\renewcommand{\curso}{Cálculo Integral}}
\DeclareOption{fmmp312}{\renewcommand{\codigocurso}{FMMP312}\renewcommand{\curso}{Sistem. y Ecuac. Diferen. Lineales}}
\DeclareOption{fmmp315}{\renewcommand{\codigocurso}{FMMP315}\renewcommand{\curso}{Matemática Avanzada I}}
\DeclareOption{fmmp415}{\renewcommand{\codigocurso}{FMMP415}\renewcommand{\curso}{Matemática Avanzada II}}
\DeclareOption{fmmp111}{\renewcommand{\codigocurso}{FMMP111}\renewcommand{\curso}{\'Algebra}}
\DeclareOption{fmmp113}{\renewcommand{\codigocurso}{FMMP113}\renewcommand{\curso}{\'Algebra Lineal}}
\DeclareOption{fmmp233}{\renewcommand{\codigocurso}{FMMP233}\renewcommand{\curso}{C\'alculo en Varias Variables}}
\DeclareOption{probav}{\renewcommand{\codigocurso}{IFIM001}\renewcommand{\curso}{Probabilidad Avanzada}}
\DeclareOption{letterpaper}{\geometry{letterpaper}}
\DeclareOption{oficiopaper}{\geometry{papersize={8in,13in}}}


% Opciones para Campus
\newcommand*{\campus}{Rep\'ublica}
\DeclareOption{repu}{\renewcommand*{\campus}{Rep\'ublica}}%
\DeclareOption{caso}{\renewcommand*{\campus}{Casona}}%
\DeclareOption{vina}{\renewcommand*{\campus}{Vi\˜a del Mar}}%
\DeclareOption{conc}{\renewcommand*{\campus}{Concepci\'on}}%
\DeclareOption{avar}{\renewcommand*{\campus}{Antonio Varas}}%
\DeclareOption{leon}{\renewcommand*{\campus}{Los Leones}}%
\DeclareOption{bell}{\renewcommand*{\campus}{Bellavista}}%

\newcommand*{\pauta}{}
\DeclareOption{pautaS}{\renewcommand*{\pauta}{Pauta\ }
	\printobjetivosfalse
	\printanswers
	\printpuntosfalse
}
\DeclareOption{pautaC}{\renewcommand*{\pauta}{Pauta\ }
	\printobjetivosfalse
	\printanswers
	\printpuntostrue
}

\DeclareOption{pautaA}{\renewcommand*{\pauta}{Pauta\ }
	\printobjetivostrue
	\printanswers
	\printpuntostrue
}
\ProcessOptions\relax






	
% Macro para el header y titulo
\pagestyle{headandfoot}
\headrule
\firstpageheader%
{
\begin{minipage}{0.075\textwidth}
\vspace{-0.07\textwidth}\hspace*{-0.14\textwidth}\includegraphics[width=1.69cm]{logo_solo}
\end{minipage}
\begin{minipage}{0.4\textwidth}
Universidad Andr\'es Bello\\
Facultad de Ciencias Exactas \\
Departamento de Matem\'atica 
\end{minipage}
}%
{}%
{
\begin{minipage}{0.8\textwidth}
\raggedleft \textbf{ \curso\ - \codigocurso} \\
Campus \campus \\
 \fecha
\end{minipage}
}
\runningheader{\bf \evaluacion}{}{\textbf{ \curso\ - \codigocurso}}
\cfoot{{\thepage\ de \numpages}}



\newcommand{\thetitle}{
\begin{center}
\bf \Large{\pauta\evaluacion}\normalsize
\end{center}
}

\newcommand{\subtitle}{
\vspace{-0.5cm}
\textbf{Tiempo: \duracion\ minutos. \hfill \instrucciones}
}

\renewcommand{\maketitle}{\thetitle}

\newcommand{\mytitle}{
\begin{center}
\bf \Large{\pauta\evaluacion}\normalsize
\end{center}
}

% Finally, we'll use \endinput to indicate that LaTeX can stop reading this file. LaTeX will ignore anything after this line.
\endinput
